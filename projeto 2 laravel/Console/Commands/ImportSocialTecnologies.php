<?php

namespace App\Console\Commands;

use Illuminate\Console\Command;
use Illuminate\Support\Facades\DB;
use Illuminate\Support\Facades\Storage;
use App\Institution;
use App\Keyword;
use App\Ods;
use App\Theme;
use App\SocialTecnology;
use App\SocialTecnologyTheme;
use App\SocialTecnologyDeploymentPlace;
use App\SocialTecnologyFile;
use App\SocialTecnologyKeyword;
use App\SocialTecnologyImage;
use App\SocialTecnologyOds;

class ImportSocialTecnologies extends Command
{
    /**
     * The name and signature of the console command.
     *
     * @var string
     */
    protected $signature = 'import:socialtecnologies';

    /**
     * The console command description.
     *
     * @var string
     */
    protected $description = 'Import Social Tecnologies from old BTS database';

    protected $lumis_file_url = 'http://tecnologiasocial.fbb.org.br/data/';

    protected $arr_ts_to_import_onda_1 = [
        '8AE389DB2F1D7DDE012F3068CF1128F0',
        '8AE389DB3EDA4903013EE3C749A84220',
        '8AE389DB2F097B9C012F12187A52629F',
        '8AE389DB4DC44513014DE83972E37F7A',
        '8AE389DB30F6714B0130F8D1EAB441A3',
        '8AE389DB30F6714B0130FA66E6E0294B',
        '8AE389DB32873BD0013287F4FFB43EE1',
        '8AE389DB3E38D10D013E4C6252E31A9D',
        '8AE389DB4C7AF3F5014CBD258CE85C38',
        '8AE389DB3E5CBAE9013E60AF06D9738F'
    ];

    protected $arr_ts_to_import_onda_2 = [
        '2C908A915B8D2458015BDBD698DE7B85',
        '8AE389DB30C3692F0130C3FBC08B1DF3',
        '2C908A915BEDB4C3015C5465796E0887',
        '8AE389DB2FE9C063012FFE16921376DE',
        '8AE389DB3119C8CA0131437ACB3B26B7',
        '8AE389DB33E135A801343E61C1EA4E72',
        '8AE389DB308A7E2E01309AB78336487E',
        '8AE389DB4CE6B108014D01C700573B21',
        '8AE389DB4C0F2A6A014C4807333C5D0D',
        '2C908A915B67132A015B87B358E272AF',
        '8AE389DB2FBCD7A2012FD50EAC5E432D',
        '2C908A915BEDB4C3015C20AEA79D59B6',
        '2C908A915BEDB4C3015C3EEDD4292BCF',
        '8AE389DB4D971C95014DA0BDDE43729D',
        '8AE389DB2F55B253012FA2E902AD3134',
        '8AE389DB3EB2F1D3013EC1DBF39532C6',
        '8AE389DB4DC44513014DD9BD2D4D0AC8',
        '2C908A915CA752CC015CA754636D0323',
        '8AE389DB31667F8B01319004752A539F',
        '8AE389DB3EE7F3E9013EEB7DACC46014',
        '8AE389DB32A71BA00132B59C7D31627B',
        '8AE389DB3EDA4903013EE661509A181F',
        '8AE389DB4D971C95014DBAD6D1EB7D22',
        '2C908A915C7E0AA7015C83A12962113C',
        '8AE389DB4DE97DC9014DF80FDD265F78',
        '8AE389DB32873BD00132879B6E4F25F5',
        '8AE389DB33E135A801344852C772705B',
        '8AE389DB3F388B79013F39C6771627B5',
        '8AE389DB3EA4C55C013EA56921D97587',
        '8AE389DB2FBCD7A2012FC1D2E0B9037B',
        '8AE389DB32BBF8A70132D04F78F30C99',
        '8AE389DB304139560130475B10F45D20',
        '8AE389DB4D2AD70E014D684244E43318',
        '2C908A915B021ED7015B4977BCC953BD',
        '8AE389DB3119C8CA01312FC55793778C',
        '2C908A915CA752CC015CB11CB57918C4',
        '2C908A915CA752CC015CC0D954197EF5',
        '2C908A915BEDB4C3015C1341D52017DE',
        '8AE389DB4DE97DC9014DF842FE1D01EA',
        '8AE389DB4DC44513014DD8802B9005BB',
        '2C908A915B021ED7015B4977BCC953BD',
    ];

    protected $arr_ts_to_import_onda_3 = [
        '8AE389DB308A7E2E0130990306603E6C',
        '8AE389DB4D2AD70E014D44201808760A',
        '8AE389DB3EC3C5A1013EC7884600242D',
        '2C908A915BE9FFCB015BED2AB037504D',
        '8AE389DB3E5CBAE9013E65CECDFA79C3',
        '2C908A915BEDB4C3015C5FAD04960980',
        '8AE389DB4DC44513014DDF7B10DD6B97',
        '8AE389DB30099BB30130227FBAE0232E',
        '8AE389DB32873BD00132882587241C06',
        '2C908A915BEDB4C3015C4FE412C372A6',
        '8AE389DB4D2AD70E014D4E6FD3397B98',
        '8AE389DB300404AE01300918CD6F6AE7',
        '2C908A915BEDB4C3015C5CBA6365727E',
        '2C908A915BEDB4C3015C4CF7B06A6211',
        '2C908A915BEDB4C3015C3657ACC90430',
        '8AE389DB300404AE013004755C8B1D92',
        '2C908A915C7E0AA7015C9C818F261D3F',
        '8AE389DB3ED15BE3013ED16E77F532CE',
        '8AE389DB4DC44513014DE79019CF11CA',
        '8AE389DB4C7AF3F5014CA4B1EF0E0400',
        '8AE389DB4D2AD70E014D8CFFAF21068C',
        '2C908A915B021ED7015B5EBF4E025FCD',
        '8AE389DB2F55B253012F9857028C31EE',
        '8AE389DB3119C8CA01311FCFBDE0679B',
        '8AE389DB3F5DAD4A013F5F5CA8400E02',
        '8AE389DB4C7AF3F5014C95ABE3EB7D07',
        '8AE389DB3F66AA74013F6749E40D3149',
        '8AE389DB32873BD0013287D7A6150540',
        '2C908A915BEDB4C3015BFED4A8E96BF8',
        '8AE389DB2F55B253012FB244F8E60E0E',
        '8AE389DB4DC44513014DCFD3E2051D49',
        '2C908A915BEDB4C3015C5EA6C5200594',
        '2C908A915B8D2458015BD948133B1AA2',
        '8AE389DB3EC3C5A1013EC7AFF02C32FE',
        '8AE389DB3E7FD149013E84EC6D5F10BF',
        '8AE389DB31667F8B0131765409C05CCD',
        '8AE389DB30413956013042808A691B2B',
        '8AE389DB3144575A013152B2E52B4FC3',
        '2C908A915BEDB4C3015C31C1D92A69CE',
        '8AE389DB4D2AD70E014D900D91977A5D',
        '8AE389DB3F66AA74013F671DF902548E',
        '2C908A915BEDB4C3015C1D20E207379A',
        '8AE389DB33E135A80134585DD19D2D46',
        '8AE389DB4D2AD70E014D8D81C5CE474A',
        '8AE389DB4D2AD70E014D43967DC737BE',
        '8AE389DB321FF31F01326966DE407230',
        '8AE389DB30FB9B8301310087AE2F7691',
        '8AE389DB32873BD0013297E485541045',
        '8AE389DB3144575A013153771E4347BB',
        '8AE389DB304139560130475DAAE66032',
        '8AE389DB30C3692F0130C84D70052A3B',
        '2C908A915B67132A015B7D6382B2607B'
    ];

    protected $arr_ts_to_import_onda_4 = [
        '2C908A915B021ED7015B624782BA325F',
        '2C908A915B8D2458015BE8FDDF2C7043',
        '2C908A915BEDB4C3015C03A9D27E0C77',
        '2C908A915BEDB4C3015C11B347177010',
        '2C908A915BEDB4C3015C12CB79162E95',
        '2C908A915BEDB4C3015C219924734A19',
        '2C908A915BEDB4C3015C377E97F870B9',
        '2C908A915BEDB4C3015C3FF4B52B7EA9',
        '2C908A915BEDB4C3015C45D3D15A4F73',
        '2C908A915BEDB4C3015C5AF61E6B2E87',
        '2C908A915C7E0AA7015C7F1A321D2A22',
        '2C908A915CA752CC015CC1108D2B02E3',
        '8AE389DB2F097B9C012F129730D82E8A',
        '8AE389DB2F097B9C012F12A87D845EA0',
        '8AE389DB2F36CF49012F451206FE3853',
        '8AE389DB2F55B253012FB6FA59AF088D',
        '8AE389DB2FBCD7A2012FDF4CC5E52472',
        '8AE389DB3023D13F01302898A8CA3A1D',
        '8AE389DB3041395601304DCF99A96F49',
        '8AE389DB307ADFD301308A1AAF814317',
        '8AE389DB30B783670130B85D12423536',
        '8AE389DB30B783670130B9C6004B0F7B',
        '8AE389DB30FB9B8301310AF7F8967A9E',
        '8AE389DB3119C8CA013143818D1D4A44',
        '8AE389DB31667F8B013167609863129F',
        '8AE389DB31BF62120131CEB25A0131DB',
        '8AE389DB32873BD001328C8B438479CD',
        '8AE389DB32873BD001328D5F3E0A20E6',
        '8AE389DB32BBF8A70132D01CB8BD017E',
        '8AE389DB33E135A801343DF706677173',
        '8AE389DB33E135A801344877C9333F3A',
        '8AE389DB3746AA6401379407BA0B2373',
        '8AE389DB3D837807013DA84B7D011A97',
        '8AE389DB3D837807013DBDF7B47A5B78',
        '8AE389DB3E6A77BA013E6B7D784B0F32',
        '8AE389DB3E6C051A013E7A703D000F20',
        '8AE389DB3E7FD149013E84A36CFD2EF0',
        '8AE389DB3E94513A013E9E504CB06788',
        '8AE389DB3EE7F3E9013EEBA172F546FC',
        '8AE389DB3F2F4B67013F330B5BDA385B',
        '8AE389DB3F388B79013F3F0E310B31AD',
        '8AE389DB3F388B79013F5333E6592993',
        '8AE389DB3F541F5B013F57A3FF871538',
        '8AE389DB4C7AF3F5014CB96911636B17',
        '8AE389DB4CC923FB014CCCF822270B67',
        '8AE389DB4D2AD70E014D38F4FFAE7548',
        '8AE389DB4D2AD70E014D82598B5F0F41',
        '8AE389DB4D2AD70E014D8C1525BE756E',
        '8AE389DB4D971C95014DA11128DC41FF',
        '8AE389DB4DF8C4EF014DF8CAA86923D0',
    ];

    protected $arr_ts_to_import_onda_5 = [
        '2C908A915BEDB4C3015C60D0ACAA5305',
        '2C908A915BEDB4C3015C4630409A48D9',
        '2C908A915B8D2458015BA50C87D60689',
        '8AE389DB4D2AD70E014D8AAB9CF845D2',
        '8AE389DB4CC923FB014CE11082BE6FF0',
        '8AE389DB30099BB3013022CF5AD326F5',
        '2C908A915B8D2458015B91989C1F63D8',
        '2C908A915B67132A015B869138451CC6',
        '2C908A915C7E0AA7015CA5496C536BC7',
        '8AE389DB33E135A8013423FA582710E7',
        '8AE389DB2F36CF49012F49AF5D181E06',
        '2C908A915BEDB4C3015C0408997D3AE1',
        '8AE389DB3119C8CA01313DD9F39274CF',
        '8AE389DB4C0F2A6A014C755070215265',
        '8AE389DB3119C8CA01312119A04B1C42',
        '8AE389DB3065260B0130662D58E47476',
        '8AE389DB2F55B253012FB29563354F5C',
        '8AE389DB33E135A801343E24D89445DB',
        '2C908A915CA752CC015CC0D3023F5E65',
        '8AE389DB4D2AD70E014D925D37C00774',
        '2C908A915BEDB4C3015C36CEEE802F71',
        '2C908A915C7E0AA7015C9DCDD74E5175',
        '8AE389DB4CC923FB014CDC6DFB717326',
        '8AE389DB4D971C95014DC41FFB98365C',
        '2C908A915BEDB4C3015C2195A91B44C8',
        '2C908A915CA752CC015CB76AC0CC600F',
        '2C908A915BEDB4C3015C5A6DBBF36604',
        '2C908A915BEDB4C3015C3A7423262FF4',
        '2C908A915BEDB4C3015C5E5E9E100EAF',
        '8AE389DB3F10C3B0013F15542FF45E47',
        '2C908A915BEDB4C3015C56663F6B23DF',
        '8AE389DB3119C8CA01312A2A77D84850',
        '8AE389DB4C7AF3F5014CC782BAF22379',
        '8AE389DB4D2AD70E014D90C4AB196AF1',
        '8AE389DB4D2AD70E014D6DE2A5576EE7',
        '8AE389DB30B783670130B85D12423536',
        '2C908A915BEDB4C3015C3B497A8540AF',
        '8AE389DB3144575A013152B5488E6519',
        '2C908A915C7E0AA7015C877690416EF1',
        '8AE389DB3E7FD149013E895698FD4981',
        '2C908A915B67132A015B8C8DB024698A',
        '8AE389DB3065260B01306B042A0E191B',
        '8AE389DB3EE680E6013EE746C54E3860',
        '2C908A915BEDB4C3015C5F050F7378A9',
        '8AE389DB3F6823FE013F68AD4A1009F8',
        '2C908A915B8D2458015BD50BCD915ACE',
        '8AE389DB3065260B013065C365664A1B',
        '8AE389DB2F55B253012F9CFBC10D1E55',
        '8AE389DB3ED15BE3013ED27F8CE427DE',
        '2C908A915BEDB4C3015C3596AA335364',
        '2C908A915BEDB4C3015C5B33245F7232',
        '8AE389DB30DCA5150130E1F1E63F3E66',
        '8AE389DB32029EBB013208162EF358B1',
        '2C908A915B8D2458015BD58668DD0EE0',
        '8AE389DB3F388B79013F443B10957700',
        '2C908A915BEDB4C3015C31DF0AA321BF',
        '8AE389DB3119C8CA01311A08BB9C5D26',
        '2C908A915BEDB4C3015C1667C9086036',
        '2C908A915CA752CC015CB0DD31BD57EC',
        '8AE389DB4C0F2A6A014C291ED0C16D3C',
        '2C908A915BEDB4C3015C5FB81FB9084E',
        '8AE389DB3144575A01314DD06AF90537',
        '2C908A915B67132A015B8B9E255A3207',
        '2C908A915B8D2458015BA10B81F36DBB',
        '8AE389DB33E135A8013423D740DE50AD',
        '8AE389DB4CE6B108014D1FFD11955BA9',
        '2C908A915B021ED7015B2162CE6D17BE',
        '8AE389DB3F66AA74013F66E2C48A38CF',
        '8AE389DB4C7AF3F5014CC37273E74398',
        '8AE389DB4D971C95014D9C3BBF156548',
        '8AE389DB31538968013153C4E95302BA',
        '8AE389DB4DF8C4EF014DF992DF423BF0',
        '8AE389DB33E135A801344836A7C73604',
        '8AE389DB3D837807013DA19670D5760F',
        '8AE389DB2FBCD7A2012FC18358FC6D4B',
        '2C908A915BEDB4C3015C5BE2AE2702CC',
        '8AE389DB3F5DAD4A013F5E9581440DB2',
        '2C908A915CA752CC015CC14B12A92A09',
        '8AE389DB4DE97DC9014DF8001EF20CF3',
        '2C908A915CA752CC015CB74B43C22F2C',
        '8AE389DB2F55B253012F98A4A42F170E',
        '8AE389DB3023D13F01303286B2774573',
        '2C908A915BEDB4C3015C65BF0B8F22F5',
        '2C908A915BEDB4C3015C5FF2621B7A93',
        '8AE389DB3F388B79013F522786C44332',
        '8AE389DB2FBCD7A2012FD6989DFF75EF',
        '2C908A915BEDB4C3015C3FA0791F6072',
        '2C908A915B021ED7015B63B101617A01',
        '2C908A915B8D2458015BD349CEF43672',
        '8AE389DB4C0F2A6A014C55B33DE1622A',
        '8AE389DB4C7AF3F5014CC85131633092',
        '2C908A915BEDB4C3015C3592B5964DAF',
        '8AE389DB2F1D7DDE012F31B525DC105A',
        '8AE389DB32873BD0013287EDB6BF262F',
        '8AE389DB3E7FD149013E8EB79195022F',
        '8AE389DB4D971C95014D9B8F43640960',
        '8AE389DB30FB9B830131198F730E00A8',
        '8AE389DB4D2AD70E014D57E19E7247C4',
        '8AE389DB2F55B253012FB1DF73F456E6',
        '2C908A915BEDB4C3015C1B905AA92C8C',
        '8AE389DB4D2AD70E014D8AE78D691ACC',
        '8AE389DB3119C8CA0131428C0E7F5525'
    ];


    protected $arr_ts_to_import_onda_6 = [
        '8AE389DB4DC44513014DE24316315ED5',
        '8AE389DB31BF62120131D3DE63E86064',
        '8AE389DB2F55B253012F9CBA1D8A4533',
        '8AE389DB4DC44513014DE88084BC0998',
        '8AE389DB308A7E2E01308E02960F55C5',
        '8AE389DB4D2AD70E014D8B0213E015B2',
        '8AE389DB3119C8CA013128D9979A4A68',
        '8AE389DB3EB2F1D3013EB357D0E51C4A',
        '8AE389DB30DCA5150130E69B788845E5',
        '2C908A915CA752CC015CC1AC7C4054DE',
        '8AE389DB4D2AD70E014D4E8C50656E0C',
        '8AE389DB4CE6B108014D243FCEBB3F21',
        '8AE389DB30DCA5150130E6AE66CA0327',
        '2C908A915B021ED7015B5855E37B6575',
        '8AE389DB4CE6B108014D0143429A2149',
        '8AE389DB307ADFD30130844E3D715F3A',
        '8AE389DB4D971C95014D9BA6D33757E7',
        '8AE389DB3EE680E6013EE78AE97F6062',
        '2C908A915B8D2458015BC1AE76B4187A',
        '8AE389DB3119C8CA0131262BEEE95D07',
        '8AE389DB4DC44513014DDD5B8D356143',
        '8AE389DB3EE680E6013EE75D15CF67AA',
        '8AE389DB30099BB301300E9D0E3035AE',
        '2C908A915BEDB4C3015BEE643DB51B6F',
        '8AE389DB3119C8CA01311B0408225F09',
        '8AE389DB3041395601304D5A91551D34',
        '2C908A915BEDB4C3015C5468CF0E20B8',
        '8AE389DB30AD3B910130AE4902B70277',
        '8AE389DB4D2AD70E014D9011BBEC0296',
        '8AE389DB3065260B01306660FFFD662C',
        '2C908A915B8D2458015BB751C3E67842',
        '2C908A915BEDB4C3015BF3B82E9C3E7C',
        '8AE389DB3EC3C5A1013ECCD4C82C56D4',
        '8AE389DB30099BB301300D9FDAF96451',
        '2C908A915BEDB4C3015C5CD8E148493C',
        '2C908A915BEDB4C3015C49B9158305D1',
        '2C908A915C7E0AA7015C90DE2A4366B7',
        '8AE389DB4D2AD70E014D7D7CABF56991',
        '8AE389DB3F388B79013F3A3CE8273BF8',
        '8AE389DB30DCA5150130E679466004EA',
        '2C908A915CA752CC015CC13A753B5647',
        '2C908A915BEDB4C3015C362706574E1D',
        '8AE389DB4DE97DC9014DF239DC3765AE',
        '8AE389DB31667F8B01316739F0C64B78',
        '8AE389DB30DCA5150130E6EE234A62FF',
        '8AE389DB4D2AD70E014D963523FF269A',
        '8AE389DB3065260B013065D73CEA7E6B',
        '8AE389DB308A7E2E01309DE8832A1D25',
        '8AE389DB308A7E2E01309E8B4E7F53BD',
        '8AE389DB4CE6B108014D20E46FF140A7',
        '8AE389DB4CE6B108014D057BF48F688F',
        '8AE389DB4CE6B108014D0AC7577264A0',
        '8AE389DB3ED15BE3013ED2DFB9EC67BB',
        '8AE389DB300404AE013008C72842156E',
        '2C908A915B021ED7015B30E6AF767F11',
        '2C908A915BEDB4C3015C2248FCA66B43',
        '2C908A915BEDB4C3015C5A5EFC3B61FF',
        '8AE389DB3F388B79013F3969BF6039A9',
        '8AE389DB4D971C95014DB5C3F3136E81',
        '8AE389DB307ADFD301308A4DFEA12DA8',
        '8AE389DB3023D13F013028540B51506F',
        '8AE389DB4CE6B108014D2478055264CB',
        '2C908A915BEDB4C3015C5F743A5B123B',
        '8AE389DB30099BB3013023050B2C042C',
        '8AE389DB3144575A0131526E7C4A574D',
        '2C908A915BEDB4C3015C3FF9514D0D89',
        '8AE389DB3E7FD149013E864BA8225431',
        '8AE389DB4DE97DC9014DF81B373973BD',
        '8AE389DB4DC44513014DE8E970612700',
        '2C908A915CA752CC015CC10786444C10',
        '8AE389DB321FF31F013225FCAD1A4B41',
        '8AE389DB308A7E2E01309D58445B3286',
        '8AE389DB31BF62120131BF76244B2611',
        '2C908A915BEDB4C3015C5447125564B3',
        '8AE389DB3EC3C5A1013EC6F4FC980F74',
        '8AE389DB4D2AD70E014D4476F0FB7F96',
        '2C908A915B8D2458015BC949DFA657E3',
        '8AE389DB30413956013046EBF5F24813',
        '8AE389DB3E7FD149013E89B27CA13155',
        '2C908A915B67132A015B7D652DC063CF',
        '8AE389DB31538968013154B4D26D2329',
        '8AE389DB3EED3B89013EF0804A600B7D',
        '8AE389DB30B783670130B907B360673D',
        '2C908A915B021ED7015B5D54ADC12C20',
        '8AE389DB30DCA5150130E5DB34F1726B',
        '8AE389DB3F5CE8B0013F5D14025D6373',
        '2C908A915BEDB4C3015C45F7AA2B15D5',
        '8AE389DB3F5DAD4A013F61F0ACF72751',
        '2C908A915BEDB4C3015C318F01D81716',
        '2C908A915BEDB4C3015C58FCD6C83951',
        '8AE389DB3F5DAD4A013F5E4391376447',
        '8AE389DB3E7FD149013E891DA25E4013',
        '8AE389DB30D796850130DC5188906B73',
        '2C908A915BEDB4C3015C49F7B86254A4',
        '8AE389DB30FB9B8301310522061C7F49',
        '8AE389DB31667F8B01316C2619470817',
        '8AE389DB2F55B253012FA263DE92787B',
        '8AE389DB4DC44513014DE412659C2383',
        '8AE389DB30D147E40130D620B66E4834'
    ];

    protected $arr_ts_to_import_onda_final = [
        '8AE389DB33E135A8013438DDCFC51E03',
        '8AE389DB33E135A8013447B3E4EF39FF',
        '8AE389DB33E135A8013447FED0B84606',
        '8AE389DB2F097B9C012F12CF8EA42DC3',
        '8AE389DB2F36CF49012F4F6A2C2938FA',
        '8AE389DB2F55B253012F9C9D2B3B06E4',
        '8AE389DB321FF31F01326EB61CBD2B85',
        '8AE389DB32BBF8A70132D623167E1EE1',
        '8AE389DB33E135A801343D68F56F7EA8',
        '8AE389DB2F097B9C012F124F134919E7',
        '8AE389DB2F1D7DDE012F1DADB84B1893',
        '8AE389DB2F55B253012F9CA71E621D1D',
        '8AE389DB30230F0E01302318B1BF1298',
        '8AE389DB30DCA5150130E1B18120471C',
        '8AE389DB33E135A80134240BFF5C3DC7',
        '8AE389DB33E135A801343DA6D0EC2638',
        '8AE389DB33E135A801343DD3D4C87EDA',
        '8AE389DB3484F6C10134A91582513798',
        '8AE389DB2F1D7DDE012F21F9E2C5797C',
        '8AE389DB2F1D7DDE012F3197654F579A',
        '8AE389DB30099BB301300EB0090865D8',
        '8AE389DB31667F8B01316C69A37B3C5C',
        '8AE389DB31667F8B01318B404316113E',
        '8AE389DB33E135A8013438ABC7192EB0',
        '8AE389DB300404AE013004BCDCD23502',
        '8AE389DB300404AE01300918CD6F6AE7',
        '8AE389DB30230F0E0130236E325E2A0E',
        '8AE389DB3023D13F0130287707634B3F',
        '8AE389DB30D147E40130D29547886257',
        '8AE389DB31667F8B0131767B6B3372AA',
        '8AE389DB31667F8B013185922CF57E10',
        '8AE389DB31667F8B013190880D224167',
        '8AE389DB31AA684D0131AA8B24EF4AF8',
        '8AE389DB33E135A801343E554B802B63',
        '8AE389DB33E135A80134429650DA7488',
        '8AE389DB33E135A8013442CF70B434E8',
        '8AE389DB33E135A8013442FFAF6F3D9C',
        '8AE389DB33E135A80134434732BF78B1',
        '8AE389DB33E135A80134582FD7ED67FE',
        '2C908A91622ED8C20162627A6E863FCF',
        '8AE389DB2F55B253012F69BB9E2B4118',
        '8AE389DB2FBCD7A2012FC1E511F92F3C',
        '8AE389DB2FBCD7A2012FE0AE1EF002B7',
        '8AE389DB3023D13F0130313A5A8C6D83',
        '8AE389DB3041395601304773772C7C10',
        '8AE389DB3065260B01306F8A321652D1',
        '8AE389DB307016D2013071F9EDDA2227',
        '8AE389DB307016D20130755510FE5CF2',
        '8AE389DB307ADFD301307C4F331D1123',
        '8AE389DB308A7E2E01309B4B9E9A42F7',
        '8AE389DB308A7E2E01309F18BD4136A3',
        '8AE389DB30D147E40130D166A8B54FA5',
        '8AE389DB30FB9B8301310087AE2F7691',
        '8AE389DB3119C8CA01311E5E002352D2',
        '8AE389DB3119C8CA01311F44452C139B',
        '8AE389DB3119C8CA0131433DD6311107',
        '8AE389DB3144575A01314F6F5D8F2EFA',
        '8AE389DB3144575A013151A17B16796F',
        '8AE389DB3144575A013152D9F5981E49',
        '8AE389DB3144575A013152F992103CE5',
        '8AE389DB3144575A0131532864C24038',
        '8AE389DB3144575A013153470BFC6953',
        '8AE389DB315389680131538F85C84C5E',
        '8AE389DB315389680131538E384438A0',
        '8AE389DB327A237E013282F08359724E',
        '8AE389DB327A237E0132871E6DAA4C3A',
        '8AE389DB32BBF8A70132CF1FEB475817',
        '8AE389DB32BBF8A70132D035B4DA584D',
        '8AE389DB3D837807013DA19670D5760F',
        '8AE389DB3DF408C6013E32DD93DC0C61',
        '8AE389DB3DF408C6013E33B43787089A',
        '8AE389DB3E38D10D013E5739D4296D20',
        '8AE389DB3E6C051A013E70028ECD1D91',
        '8AE389DB3E7FD149013E816A9CC06940',
        '8AE389DB3E7FD149013E865134077635',
        '8AE389DB3E94513A013E9F65FDBB5521',
        '8AE389DB3EB2F1D3013EC1DBF39532C6',
        '8AE389DB3EB2F1D3013EC35EC72F5E1F',
        '8AE389DB3EDA4903013EDC6AA41129D5',
        '8AE389DB3EDA4903013EE14CCBA7443A',
        '8AE389DB3EE680E6013EE7096FDC01E9',
        '8AE389DB3EE7F3E9013EE8818C2218C2',
        '8AE389DB3EE7F3E9013EEC76C2573B9C',
        '8AE389DB3EE7F3E9013EECC86BC641EE',
        '8AE389DB3EED3B89013EF18DA7003058',
        '8AE389DB3EED3B89013EF1ABC92E32F6',
        '8AE389DB3EED3B89013EFAEE51FD7548',
        '8AE389DB3EFC56E7013EFD59395F7895',
        '8AE389DB3EFC56E7013F079875E5375E',
        '8AE389DB3EFC56E7013F0B9B2EEA55CD',
        '8AE389DB3F10C3B0013F23F83C7C2C52',
        '8AE389DB3F388B79013F3DEE69BF012B',
        '8AE389DB3F388B79013F443B10957700',
        '8AE389DB3F388B79013F49BF1C10755A',
        '8AE389DB3F541F5B013F58DBDAFF1C91',
        '8AE389DB3F541F5B013F5CA5A6854368',
        '8AE389DB3F66AA74013F671EBD8B7088',
        '8AE389DB3F66AA74013F67799ADB60D4',
        '8AE389DB3F67D393013F67F93B5C1ECF',
        '8AE389DB3F6823FE013F68A14E4A193F',
        '8AE389DB4C7AF3F5014C94153AC51D10',
        '8AE389DB4C7AF3F5014C94803DEA45F4',
        '8AE389DB4C7AF3F5014CAA8FF2771B33',
        '8AE389DB4C7AF3F5014CB96911636B17',
        '8AE389DB4C7AF3F5014CC85131633092',
        '8AE389DB4CE6B108014CFC126E933E09',
        '8AE389DB4CE6B108014D0652A8C61F82',
        '8AE389DB4CE6B108014D0A81123858E4',
        '8AE389DB4CE6B108014D208AED247E73',
        '8AE389DB4D2AD70E014D430DB6CA492F',
        '8AE389DB4D2AD70E014D4E64930F2616',
        '8AE389DB4D2AD70E014D58CC3A9C0E69',
        '8AE389DB4D2AD70E014D590D22D0714E',
        '8AE389DB4D2AD70E014D684D29C56519',
        '8AE389DB4D2AD70E014D687ED44E7B1B',
        '8AE389DB4D2AD70E014D6C03D4B71C0F',
        '8AE389DB4D2AD70E014D7672DDFF16CA',
        '8AE389DB4D2AD70E014D8C2E5AB20D47',
        '8AE389DB4D2AD70E014D8C4C0F0C5316',
        '8AE389DB4D2AD70E014D8DA73BEB3A16',
        '8AE389DB4D2AD70E014D966AA0541811',
        '8AE389DB4D971C95014DB954B18D0396',
        '8AE389DB4DC44513014DE88084BC0998',
        '8AE389DB4DE97DC9014DF838ED7B5E53',
        '2C908A915B021ED7015B590E739B5A45',
        '2C908A915B67132A015B67E9F49B45E8',
        '2C908A915B67132A015B8763F21027AF',
        '2C908A915B8D2458015BA252278C1CDC',
        '2C908A915B8D2458015BCA7BFF803F65',
        '2C908A915B8D2458015BCF92216723B3',
        '2C908A915B8D2458015BD490E84A0B11',
        '2C908A915B8D2458015BD9CAC43C567B',
        '2C908A915BEDB4C3015BEEE6BE626422',
        '2C908A915BEDB4C3015BF90181FD0C01',
        '2C908A915BEDB4C3015C05834C62371E',
        '2C908A915BEDB4C3015C1177CABC338D',
        '2C908A915BEDB4C3015C176AB2902EBC',
        '2C908A915BEDB4C3015C1D0B6F3E1C75',
        '2C908A915BEDB4C3015C1D20E207379A',
        '2C908A915BEDB4C3015C30A70C9B0C01',
        '2C908A915BEDB4C3015C3B4BA8F54A53',
        '2C908A915BEDB4C3015C3B67C5962705',
        '2C908A915BEDB4C3015C3CAC67EF3E2E',
        '2C908A915BEDB4C3015C428F62C821C4',
        '2C908A915BEDB4C3015C46BDB9FD135C',
        '2C908A915BEDB4C3015C46C4897E20D6',
        '2C908A915BEDB4C3015C46F5AEC84EBC',
        '2C908A915BEDB4C3015C49AD36277736',
        '2C908A915BEDB4C3015C4A9ED070022F',
        '2C908A915BEDB4C3015C4F73E0A92C93',
        '2C908A915BEDB4C3015C547E5485187B',
        '2C908A915BEDB4C3015C548CF3696D89',
        '2C908A915BEDB4C3015C54E040555441',
        '2C908A915BEDB4C3015C5564C57717DA',
        '2C908A915BEDB4C3015C560D673D2953',
        '2C908A915BEDB4C3015C599BB4AF08E8',
        '2C908A915BEDB4C3015C59AA686A731B',
        '2C908A915BEDB4C3015C59E3448F501E',
        '2C908A915BEDB4C3015C5A97790D0602',
        '2C908A915BEDB4C3015C5BD829A7526E',
        '2C908A915BEDB4C3015C5DFB63276FCB',
        '2C908A915BEDB4C3015C5E48F9612B50',
        '2C908A915BEDB4C3015C5E9CD5133AF7',
        '2C908A915BEDB4C3015C5F1E644256FD',
        '2C908A915BEDB4C3015C6057B8966A1F',
        '2C908A915BEDB4C3015C60BD6E4B0DD1',
        '2C908A915BEDB4C3015C60EF07844BD9',
        '2C908A915BEDB4C3015C64B5AB1144A1',
        '2C908A915BEDB4C3015C6A55BB22173B',
        '2C908A915C7E0AA7015C7EA9D1AF1A82',
        '2C908A915C7E0AA7015C83B9863F2824',
        '2C908A915C7E0AA7015C89B410CC3093',
        '2C908A915C7E0AA7015C9CA330645671',
        '2C908A915C7E0AA7015C9DB1D1A31F3E',
        '2C908A915C7E0AA7015CA6F8D06A578F',
        '2C908A915CA752CC015CADE6D6103620',
        '2C908A915CA752CC015CB1C9DCB8527C',
        '2C908A915CA752CC015CB820671A5270',
        '2C908A915CA752CC015CB90E0872123B',
        '2C908A915CA752CC015CBD8FFB470E1D',
        '2C908A915CA752CC015CC0D5D0196829',
        '2C908A915CA752CC015CC12C6DC60676',
        '2C908A915DA35443015DCDD65EAB2221',
        '2C908A915DA35443015DD261C7C12FDF',
        '2C908A915DA35443015DE0E7839B487F',
        '2C908A915DA35443015DE1F7928461F1',
        '2C908A915DA35443015DF6E04E9C69BE',
        '2C908A915DA35443015E0534C8100772',
        '2C908A915DA35443015E09D2AC3A2D6C',
        '2C908A915E0AE8B2015E195FF7E54B37',
        '2C908A915E0AE8B2015E346BF4D07C3C',
        '2C908A915E0AE8B2015E3E66CB4279A6',
        '2C908A915E0AE8B2015E57C4A36663D6',
        '2C908A915E0AE8B2015E7115C12B44DE',
        '2C908A9169264A1E01693A7861A147AD',
        '2C908A9169264A1E01695DBAC27A01DE',
        '2C908A9169264A1E016971F971EE0B22',
        '2C908A9169264A1E016976D3015F13FA',
        '2C908A9169264A1E01697D2197242009',
        '2C908A9169264A1E01697D39150629E9',
        '2C908A9169264A1E01697D39F6622BA7',
        '2C908A9169264A1E0169826566171711',
        '2C908A9169264A1E016982FFF3AF7CFA',
        '2C908A9169264A1E01698605C7AF7819',
        '2C908A9169264A1E01699B7F82A4533E',
        '2C908A9169264A1E0169A69CA3C64C97',
        '2C908A9169264A1E0169A6A727CD5FD0',
        '2C908A9169264A1E0169A7E466A50F08',
        '2C908A9169264A1E0169B4E1BC96532B',
        '2C908A9169BAC5C20169BF4BF1F7196A',
        '2C908A9169BAC5C20169C968C4B04432',
        '2C908A9169BAC5C20169C9AB06DE03B2',
        '2C908A9169BAC5C20169C9E8D48F42F7',
        '2C908A9169CA01780169CC1EF19B3FE4',
        '2C908A9169CA01780169DA4A0ABB13EC',
        '2C908A9169CA01780169DE351F8E1CEE',
        '2C908A9169CA01780169E5888E4E1C3B',
        '2C908A9169CA01780169E86DEC220FE9',
        '2C908A9169CA01780169E89F5D3C2A82',
        '2C908A9169CA01780169E9165E992A3E',
        '2C908A9169CA01780169E955DCF774CB',
        '2C908A9169CA01780169EE8A5C930579',
        '2C908A9169CA01780169EE9EBC533438',
        '2C908A9169CA01780169EEDF0BC235C4',
        '2C908A9169CA01780169F328FA1D4557',
        '2C908A9169CA01780169FD18BB802B49',
        '2C908A9169CA01780169FD428ADD79C8',
        '2C908A9169FEABF50169FEB97B7D0DB7',
        '2C908A9169FEABF5016A03D3B31466CF',
        '2C908A9169FEABF5016A070FD9287EBB',
        '2C908A9169FEABF5016A07AABE251504',
        '2C908A9169FEABF5016A08FCF9AB1136',
        '2C908A9169FEABF5016A0C1B99E22059',
        '2C908A916A0D622D016A0D76FBC52228',
        '2C908A916A0D622D016A0D956C1177F7',
        '2C908A916A0D622D016A0DDC5EAF3814',
        '2C908A916A0D622D016A0DFDAD4623FE',
        '2C908A916A0D622D016A1193716A7DD6',
        '2C908A916A0D622D016A12A1C0355563',
        '2C908A916A0D622D016A132DA42B1844',
        '2C908A916A0D622D016A177B442E5E75',
        '2C908A916A0D622D016A1CFC673478CC',
        '2C908A916A0D622D016A214837610AB0',
        '2C908A916A0D622D016A216080D97481',
        '2C908A916A0D622D016A21C51E5C58CB',
        '2C908A916A0D622D016A2279B8994948',
        '2C908A916A0D622D016A228AB89E7FBA',
        '2C908A916A0D622D016A22DBB59D5D72',
        '2C908A916A0D622D016A22DCF01160B1',
        '2C908A916A0D622D016A25E208812606',
        '2C908A916A0D622D016A265E7FF438C3',
        '2C908A916A0D622D016A269A599008BE',
        '2C908A916A0D622D016A26E39BB30A37',
        '2C908A916A274124016A277686E36E8D',
        '2C908A916A274124016A2820EAA656BA',
        '2C908A916A274124016A28AB05A65EE4',
        '2C908A916A274124016A2924D084121F',
        '2C908A916A274124016A2B630CB96682',
        '2C908A916A274124016A2B778D3E5DE2',
        '2C908A916A274124016A2C2E8F3A060B',
        '2C908A916A274124016A2C2653ED5EBC',
        '2C908A916A274124016A2C979FC34FD6',
        '2C908A916A274124016A2CA263364CD7',
        '2C908A916A274124016A2CA5D1BD6EC9',
        '2C908A916A274124016A2D281CE92F1C',
        '2C908A916A274124016A2D689EE54941',
        '2C908A916A274124016A2DC592EA7A88',
        '2C908A916A274124016A307A4B35446A',
        '2C908A916A274124016A309587D851FC',
        '2C908A916A274124016A30B5CC706B36',
        '2C908A916A274124016A30DE0DF23A46',
        '2C908A916A274124016A32045BC90692',
        '2C908A916A274124016A35B8268745F5',
        '2C908A916A274124016A3835A5115AC9',
        '2C908A916A274124016A3B20D7C74C55',
        '2C908A916A274124016A40BAB24B7B41',
        '2C908A916A274124016A3FF6AFF6471C',
        '2C908A916A274124016A4593EF685F89',
        '2C908A916A274124016A55AF65042041',
        '2C908A916A274124016A563CE6BE68BA',
        '2C908A916A274124016A68E5C3BC0DB1',
        '2C908A916A274124016A68FDAE13225F',
        '2C908A916A274124016A69497BD66377',
        '2C908A916A274124016A695E5FF709B5',
        '2C908A916A6E42A1016A6F4F94C40A5A',
        '2C908A916A6E42A1016A7DD4AC260C0C',
        '2C908A916A6E42A1016A8DB324467984',
        '2C908A916A6E42A1016A8E8460132B93',
        '2C908A916A6E42A1016A9208D7244932',
        '2C908A916A6E42A1016A9256B16A3EE4',
        '2C908A916A927996016A932A02B47D6F',
        '2C908A916A927996016A9785F82B4CE9',
        '2C908A916A927996016A97E9DECC0F34',
        '2C908A916A927996016A9CC9D9021B96',
        '2C908A916A927996016A9DF91FA60E84',
        '2C908A916A927996016A9E73A4C61BA9',
        '2C908A916A927996016AA1F011256CB5',
        '2C908A916A927996016AA23E954223D9',
        '2C908A916A927996016AA23248215175',
        '2C908A916A927996016AA28F87B47F8B',
        '2C908A916A927996016AA293F42B1AB4',
        '2C908A916A927996016AA299003D36A4',
        '2C908A916A927996016AA2AC99112258',
        '2C908A916A927996016AA2E43EAA494D',
        '2C908A916A927996016AA3228E670EFA',
        '2C908A916A927996016AA70F058E4DFA',
        '2C908A916A927996016AA7291C1462A7',
        '2C908A916A927996016AA814DA2722B6',
        '2C908A916A927996016AA820BFDC520E',
        '2C908A916A927996016AA91D5BB93E1F',
        '2C908A916AB16F24016AB28F0850735B',
        '2C908A916BDCA38D016BF73078145BC6',
        '2C908A916BDCA38D016BF76D39A3041C',
        '2C908A916BDCA38D016BF79B2BCA2846',
        '2C908A916BDCA38D016BFAFCE38C7E79',
        '2C908A916BDCA38D016BFB2BB1352B83',
    ];

    protected $arr_ts_to_import_onda_final_inativos = [
        '8AE389DB2F1D7DDE012F21BF60397AD4',
        '8AE389DB30099BB301300E520B931C6A',
        '8AE389DB308A7E2E013094245C6C1DC2',
        '8AE389DB308A7E2E01309E5B89DE7D13',
        '8AE389DB30DCA5150130E6D1EC1F7668',
        '8AE389DB31667F8B013186A2EDD94AE1',
        '8AE389DB321FF31F0132695C32AB5AD5',
        '8AE389DB32A71BA00132B646D2CC3DAF',
        '8AE389DB32BBF8A70132CB83F0AF2EC7',
        '8AE389DB33E135A8013438E8DB2635D7',
        '8AE389DB33E135A80134390136547C50',
        '8AE389DB33E135A80134435EA8BA3674',
        '8AE389DB33E135A8013447A62AB51C09',
        '8AE389DB33E135A8013447C1F6A361BC',
        '8AE389DB33E135A8013447DC96901078',
        '8AE389DB33E135A80134480BC53E6197',
        '8AE389DB33E135A801344816E3727A58',
        '8AE389DB3746AA64013793D61793524E',
        '8AE389DB2F1D7DDE012F20736ED70B61',
        '8AE389DB2F55B253012F9C5BED681087',
        '8AE389DB2F55B253012F9C7B04D550DA',
        '8AE389DB2F55B253012FB26FF5672E7C',
        '8AE389DB30099BB301300E79F76F73F3',
        '8AE389DB30099BB301301CD2231A198D',
        '8AE389DB30099BB3013022EF421864D7',
        '8AE389DB30D147E40130D2B238AB0E94',
        '8AE389DB30DCA5150130E6DF2EF33169',
        '8AE389DB31667F8B013186CC403A2B3D',
        '8AE389DB31667F8B013186EA491F13AF',
        '8AE389DB32A71BA00132A797CE716BC1',
        '8AE389DB32BBF8A70132CBB004770E93',
        '8AE389DB32DA42070132DA5304961F1A',
        '8AE389DB3309CEE00133134E2DB1567E',
        '8AE389DB33E135A80133EB2DA4711233',
        '8AE389DB33E135A80134185C57CE2A90',
        '8AE389DB33E135A80134390EF99310A3',
        '8AE389DB33E135A801343D6F86D60E77',
        '8AE389DB33E135A801343D84CCFC4857',
        '8AE389DB33E135A801343D91B47871D4',
        '8AE389DB33E135A8013448220CF818D9',
        '8AE389DB2F097B9C012F12C6F4881339',
        '8AE389DB2F097B9C012F13399FDD675F',
        '8AE389DB30099BB301300E92AB881E13',
        '8AE389DB30099BB301301CE3FBD734F3',
        '8AE389DB30413956013051805C843E89',
        '8AE389DB3041395601305329F1081899',
        '8AE389DB304139560130533F282930E0',
        '8AE389DB3065260B013065FABCD05CC5',
        '8AE389DB30DCA5150130E19C62A46E60',
        '8AE389DB31667F8B0131677F3C5D5A75',
        '8AE389DB321FF31F0132692C777E7B3B',
        '8AE389DB32873BD0013288A1363365C5',
        '8AE389DB32873BD0013288B1606D094E',
        '8AE389DB32873BD0013297F211183583',
        '8AE389DB32BBF8A70132CB9430E6554B',
        '8AE389DB33E135A801340FE6471E45C3',
        '8AE389DB33E135A80134241C9F8D6484',
        '8AE389DB33E135A801343DE3892D33A0',
        '8AE389DB33E135A801343DEDEB4057D4',
        '8AE389DB2F097B9C012F12F97EEA6317',
        '8AE389DB2F1D7DDE012F1DCB673C2F50',
        '8AE389DB2F1D7DDE012F21D8F9D3606D',
        '8AE389DB2F1D7DDE012F21DE54F66F91',
        '8AE389DB2F55B253012FA27562AE0DEA',
        '8AE389DB2F55B253012FA2AE4CE55E60',
        '8AE389DB2F55B253012FA2BFEE400839',
        '8AE389DB2FBCD7A2012FC19F6D163093',
        '8AE389DB2FBCD7A2012FD53027AB7F06',
        '8AE389DB30230F0E013023346E0E4255',
        '8AE389DB30230F0E0130234D39E96D12',
        '8AE389DB3065260B0130668C9C2B31BA',
        '8AE389DB31667F8B0131856C230A2E41',
        '8AE389DB31667F8B01318B53567E2BE1',
        '8AE389DB31667F8B01318B74ABEB5E0A',
        '8AE389DB32873BD001328D53CE277E19',
        '8AE389DB32A71BA00132AC725DD50BBC',
        '8AE389DB32A71BA00132AC8C1BF000DB',
        '8AE389DB33E135A8013424632F2A0DBC',
        '8AE389DB33E135A801343E3C62D77B96',
        '8AE389DB33E135A801343E4C91EE184E',
        '8AE389DB33E135A80134483F6BED46FA',
        '8AE389DB33E135A80134486CF2412867',
        '8AE389DB33E135A80134580DAA2F24CD',
        '8AE389DB33E135A80134581C8A1744D9',
        '8AE389DB3746AA64013793B822E44092',
        '8AE389DB2F097B9C012F127C69BE019C',
        '8AE389DB2F097B9C012F13340F4F561D',
        '8AE389DB2F36CF49012F4B91B791123B',
        '8AE389DB2FE9C063012FFF1B6D8D546C',
        '8AE389DB300404AE013008D9A17C396B',
        '8AE389DB30099BB301300EC874713116',
        '8AE389DB30230F0E0130235FB95915CB',
        '8AE389DB3023D13F0130325C3F67492E',
        '8AE389DB3065260B01306A5347E212AF',
        '8AE389DB308A7E2E01309E6FE79B1AE0',
        '8AE389DB30D147E40130D2545DB84CA2',
        '8AE389DB31667F8B013167E86E1445D5',
        '8AE389DB31667F8B0131681034284C5E',
        '8AE389DB31667F8B01318FE701FA1B27',
        '8AE389DB31667F8B01319020CBB91FE2',
        '8AE389DB31AA684D0131BF32C7874ED9',
        '8AE389DB31AA684D0131BF4DD7406FB4',
        '8AE389DB31BF62120131CF18136934B0',
        '8AE389DB31BF62120131CF324D326A38',
        '8AE389DB31BF62120131D3B3F64E2548',
        '8AE389DB321FF31F01326E89E56E1A96',
        '8AE389DB32873BD001329805524C6D54',
        '8AE389DB3309CEE001331834613C4D0D',
        '8AE389DB33E135A8013442A5AFB82702',
        '8AE389DB33E135A8013442B787316AD0',
        '8AE389DB33E135A8013442C6DC4B16A3',
        '8AE389DB33E135A8013442DFD7AC6DF7',
        '8AE389DB33E135A8013462A6A83E1B11',
        '8AE389DB33E135A8013462BC8C0934C2',
        '8AE389DB33E135A8013462D844AA593C',
        '8AE389DB3746AA64013794078C2C21FD',
        '8AE389DB37A454460137DBB5783D1FAB',
        '8AE389DB2F1D7DDE012F23D581B82FF8',
        '8AE389DB2F35334A012F35858ABF6E34',
        '8AE389DB2F36CF49012F49E7D3A97550',
        '8AE389DB2F36CF49012F4BC404FF29B7',
        '8AE389DB2F55B253012F8E427B4559ED',
        '8AE389DB2FBCD7A2012FC123B0482D8F',
        '8AE389DB2FBCD7A2012FC226F80E63EA',
        '8AE389DB2FBCD7A2012FC56FDE291119',
        '8AE389DB2FBCD7A2012FD75BA5E44165',
        '8AE389DB2FBCD7A2012FE1B2A4AB60CC',
        '8AE389DB2FE9C063012FF93F64B73559',
        '8AE389DB2FE9C063012FFE2B69660647',
        '8AE389DB30099BB301301E22E7CE5DB5',
        '8AE389DB30099BB301301E9C2802157B',
        '8AE389DB30099BB3013022DFBFF23BCE',
        '8AE389DB30099BB3013022FF98E87732',
        '8AE389DB3023D13F01302BF601E163B5',
        '8AE389DB304139560130479B2CCE4065',
        '8AE389DB3041395601304B35E622531C',
        '8AE389DB304139560130510B3A041589',
        '8AE389DB30561A5F0130565D84CE2E62',
        '8AE389DB3065260B01306A5F6ADE4B66',
        '8AE389DB3065260B01306B03F07118F2',
        '8AE389DB307ADFD301307BCC7B30322C',
        '8AE389DB307ADFD30130890A66790D83',
        '8AE389DB308A7E2E01308E2952751530',
        '8AE389DB308A7E2E013090021A5766C2',
        '8AE389DB308A7E2E0130937AC8E04B6B',
        '8AE389DB308A7E2E013093CDA1346CC2',
        '8AE389DB308A7E2E013094DCD4A35E82',
        '8AE389DB308A7E2E013098B4EDB27EE1',
        '8AE389DB308A7E2E013099553C782B2F',
        '8AE389DB308A7E2E013099810E901B40',
        '8AE389DB308A7E2E013099F7FCE13508',
        '8AE389DB308A7E2E0130A46AAAC84515',
        '8AE389DB30AD3B910130AD83149E4AF7',
        '8AE389DB30AD3B910130ADB8ED362ACB',
        '8AE389DB30AD3B910130AE5B56DF4D22',
        '8AE389DB30AD3B910130B19D6E414DB7',
        '8AE389DB30AD3B910130B2AC452D31C8',
        '8AE389DB30B32FF90130B5712BDA733A',
        '8AE389DB30B32FF90130B7370FB314F2',
        '8AE389DB30B32FF90130B74FB88F56C7',
        '8AE389DB30B783670130B8CA56C31E23',
        '8AE389DB30B783670130C2E0FC682968',
        '8AE389DB30C3692F0130C87D159146DF',
        '8AE389DB30C3692F0130CC8CF7CC3255',
        '8AE389DB30D147E40130D1B9417D08D9',
        '8AE389DB30D147E40130D22A8D3927F7',
        '8AE389DB30D147E40130D26D9C212D0A',
        '8AE389DB30D147E40130D29268CF52BA',
        '8AE389DB30D147E40130D2C6DC02691B',
        '8AE389DB30D147E40130D3BA17AC596E',
        '8AE389DB30D147E40130D3CDD0EC6D9A',
        '8AE389DB30D147E40130D6DF9A2A7065',
        '8AE389DB30D147E40130D7069D9A55DD',
        '8AE389DB30D147E40130D7339315762D',
        '8AE389DB30D796850130DB072CE95026',
        '8AE389DB30DCA5150130DD701E524F46',
        '8AE389DB30DCA5150130E1D933124910',
        '8AE389DB30DCA5150130E77D94B3792D',
        '8AE389DB30DCA5150130E791CF1F1BD5',
        '8AE389DB30DCA5150130E7A183CA3372',
        '8AE389DB30F6714B0130F70F1E265D2D',
        '8AE389DB30F6714B0130FB3F998433ED',
        '8AE389DB30F6714B0130FB86391F2946',
        '8AE389DB30FB9B830130FC43B66A49D0',
        '8AE389DB30FB9B830130FFD40C3B3822',
        '8AE389DB30FB9B83013104B94E5D0597',
        '8AE389DB30FB9B830131059D29AB40DF',
        '8AE389DB30FB9B83013119670FCA2A78',
        '8AE389DB30FB9B83013119B949C2014B',
        '8AE389DB3119C8CA01311A5ADE2E0433',
        '8AE389DB3119C8CA01311ECB16645C2A',
        '8AE389DB3119C8CA0131256E95B85586',
        '8AE389DB3119C8CA013125F6915F1FC4',
        '8AE389DB3119C8CA013128F39B7B37E3',
        '8AE389DB3119C8CA01312A33991D718F',
        '8AE389DB3119C8CA01312B5158CC3D1F',
        '8AE389DB3119C8CA01312E47C85B1BB9',
        '8AE389DB3119C8CA01312EFAE5D56453',
        '8AE389DB3119C8CA0131393FFE2E4C59',
        '8AE389DB3119C8CA01313B5F13485333',
        '8AE389DB3119C8CA01313D22621C1570',
        '8AE389DB3119C8CA01313D4229AC5DF9',
        '8AE389DB3119C8CA01313DF032E947D3',
        '8AE389DB3119C8CA01313E31568E4923',
        '8AE389DB3119C8CA01313E62D8163350',
        '8AE389DB3119C8CA01314253487B000D',
        '8AE389DB3119C8CA0131426669B05749',
        '8AE389DB3119C8CA01314281B5370B69',
        '8AE389DB3119C8CA013142D8A2FF6C99',
        '8AE389DB3119C8CA013143C7A8192D98',
        '8AE389DB3119C8CA013144248AAA2500',
        '8AE389DB3119C8CA013144391FFE4097',
        '8AE389DB3144575A013144DF8FD30642',
        '8AE389DB3144575A0131479126B96405',
        '8AE389DB3144575A013147BFC9D53596',
        '8AE389DB3144575A0131483FC00954F5',
        '8AE389DB3144575A013148D6B55206B1',
        '8AE389DB3144575A013148D7F558129B',
        '8AE389DB3144575A0131492D57E45D24',
        '8AE389DB3144575A0131494A78DE6EA2',
        '8AE389DB3144575A01314A14CF9C1E62',
        '8AE389DB3144575A01314C7A5ED72E25',
        '8AE389DB3144575A01314CF9374009A2',
        '8AE389DB3144575A01314D4417470B6B',
        '8AE389DB3144575A01314E04E3F5261A',
        '8AE389DB3144575A01314E1570E55531',
        '8AE389DB3144575A01314E4E27062A72',
        '8AE389DB3144575A01314E66ACAC2B62',
        '8AE389DB3144575A01314E867A463242',
        '8AE389DB3144575A01314E9EDD157BF8',
        '8AE389DB3144575A01314EC95CAB6C6B',
        '8AE389DB3144575A01314FE281E114E3',
        '8AE389DB3144575A01315099F02E71F6',
        '8AE389DB3144575A013151AD8E1721B9',
        '8AE389DB3144575A013151C2BBC813C6',
        '8AE389DB3144575A013151F51B3B0F27',
        '8AE389DB3144575A013151FD40115B3D',
        '8AE389DB3144575A0131522D516D0263',
        '8AE389DB3144575A0131527A7C7E5071',
        '8AE389DB3144575A01315295530A4BDF',
        '8AE389DB3144575A013152A3028449F7',
        '8AE389DB3144575A013152ACE7A91D9A',
        '8AE389DB3144575A013152C246AB00D5',
        '8AE389DB3144575A013152EBEFB50F4B',
        '8AE389DB3144575A013152F5C9CD0840',
        '8AE389DB3144575A0131532FCD2E205B',
        '8AE389DB3144575A0131533627A5762C',
        '8AE389DB3144575A01315348E8AC0261',
        '8AE389DB3144575A0131537558F42E66',
        '8AE389DB31538968013153E2B4F568F3',
        '8AE389DB31538968013154254F934392',
        '8AE389DB315389680131549DDBF41B40',
        '8AE389DB31538968013154B41BCD1D56',
        '8AE389DB31538968013154DD402A2F77',
        '8AE389DB321FF31F0132498D31884914',
        '8AE389DB327A237E013281C118F17602',
        '8AE389DB327A237E013282E8E5C05D77',
        '8AE389DB327A237E0132831D6E135A3F',
        '8AE389DB327A237E013283623674067A',
        '8AE389DB327A237E01328366882D1120',
        '8AE389DB327A237E01328375153E2CFF',
        '8AE389DB32873BD0013287691DAB3B23',
        '8AE389DB32873BD00132877A1E8C5A80',
        '8AE389DB32873BD00132878D5A267D64',
        '8AE389DB32873BD0013287AA95CB4CA7',
        '8AE389DB32873BD0013288575B665B6E',
        '8AE389DB32873BD001328876CD9D043B',
        '8AE389DB32873BD0013288AF4DFC0421',
        '8AE389DB32873BD0013288C56AB533FC',
        '8AE389DB32873BD001328DAAB9932FF3',
        '8AE389DB32A71BA00132B18CDBF968B0',
        '8AE389DB3D837807013DACD0E68E1441',
        '8AE389DB3DC73405013DD05CA2B37654',
        '8AE389DB3DC73405013DD21235DE7920',
        '8AE389DB3DF408C6013DF6122D2F4CF8',
        '8AE389DB3DF408C6013E289D3F271703',
        '8AE389DB3E38D10D013E52E663CE00B1',
        '8AE389DB3E38D10D013E5B36E83E7B9A',
        '8AE389DB3E38D10D013E5B4BCF3D3C9E',
        '8AE389DB3E5CBAE9013E612258403A56',
        '8AE389DB3E5CBAE9013E62D688E531CC',
        '8AE389DB3E6C051A013E7AC478FE6441',
        '8AE389DB3E6C051A013E7B314AD74EAB',
        '8AE389DB3E7FD149013E7FE93F1854B8',
        '8AE389DB3E7FD149013E805C2EB0726F',
        '8AE389DB3E7FD149013E84391F027527',
        '8AE389DB3E7FD149013E8F879873497A',
        '8AE389DB3E94513A013E9C0CE79B3527',
        '8AE389DB3E94513A013E9EBEE576634F',
        '8AE389DB3E94513A013EA3453DB300F1',
        '8AE389DB3EA4C55C013EA88D1283011E',
        '8AE389DB3EA4C55C013EA92F95830F75',
        '8AE389DB3EB2F1D3013EC27318DE1981',
        '8AE389DB3EB2F1D3013EC3487C457D72',
        '8AE389DB3EC3C5A1013EC724E6D3771A',
        '8AE389DB3EC3C5A1013EC7A2513D418D',
        '8AE389DB3ECD89D3013ECD9592C745CF',
        '8AE389DB3ED15BE3013ED1A401FC4A0C',
        '8AE389DB3ED15BE3013ED29CB0480D1C',
        '8AE389DB3EDA4903013EE110A6B55FBC',
        '8AE389DB3EDA4903013EE652B2021BEC',
        '8AE389DB3EE680E6013EE70354BA4E47',
        '8AE389DB3EE680E6013EE743B95D3D08',
        '8AE389DB3EE7F3E9013EE83FEA3367FE',
        '8AE389DB3EE7F3E9013EE86110EE33CE',
        '8AE389DB3EE7F3E9013EEB596E502CDC',
        '8AE389DB3EE7F3E9013EEB9C13944C80',
        '8AE389DB3EE7F3E9013EEC1F13790209',
        '8AE389DB3EE7F3E9013EECA1FAFA75DC',
        '8AE389DB3EED3B89013EF027890A352E',
        '8AE389DB3EED3B89013EF05C8352566B',
        '8AE389DB3EED3B89013EF0A8345A0C96',
        '8AE389DB3EED3B89013EF38FDEBF1849',
        '8AE389DB3EED3B89013EF4949E4F5389',
        '8AE389DB3EED3B89013EF6D4E98C5C4A',
        '8AE389DB3EED3B89013EF7E5E47E5004',
        '8AE389DB3EED3B89013EFAE321E21A09',
        '8AE389DB3EFB95ED013EFBCD849B0948',
        '8AE389DB3EFC56E7013F0EFC01933C7E',
        '8AE389DB3F10C3B0013F14B57DA26D21',
        '8AE389DB3F10C3B0013F159DE8746218',
        '8AE389DB3F10C3B0013F1A99D0AF45DD',
        '8AE389DB3F10C3B0013F1EDD73270639',
        '8AE389DB3F10C3B0013F2E4F1ACB032C',
        '8AE389DB3F2F4B67013F2F5AA8F12311',
        '8AE389DB3F2F4B67013F3488FD072F54',
        '8AE389DB3F388B79013F39AA33837DBD',
        '8AE389DB3F388B79013F3A12C75C4090',
        '8AE389DB3F388B79013F3E8891C0151C',
        '8AE389DB3F388B79013F3F1382FC696D',
        '8AE389DB3F388B79013F3FB3B22477A4',
        '8AE389DB3F388B79013F430FEA8557B7',
        '8AE389DB3F388B79013F43883F7153FC',
        '8AE389DB3F388B79013F43E28D7611E9',
        '8AE389DB3F388B79013F442182A00B7A',
        '8AE389DB3F388B79013F44331AA731FA',
        '8AE389DB3F388B79013F4DA3F2314754',
        '8AE389DB3F388B79013F52349531291C',
        '8AE389DB3F388B79013F523A75A95850',
        '8AE389DB3F388B79013F534D8A627455',
        '8AE389DB3F541F5B013F5775B4D307CE',
        '8AE389DB3F541F5B013F583FBC74670A',
        '8AE389DB3F541F5B013F5C41F5831463',
        '8AE389DB3F541F5B013F5C46475B2CCB',
        '8AE389DB3F5CE8B0013F5CF3DFE85BC1',
        '8AE389DB3F5DAD4A013F61C9DE224AA7',
        '8AE389DB3F5DAD4A013F6299C67B2A9A',
        '8AE389DB3F5DAD4A013F63E7BB757FF0',
        '8AE389DB3F5DAD4A013F642225B70C05',
        '8AE389DB3F5DAD4A013F646E612E2771',
        '8AE389DB3F5DAD4A013F6553475A102F',
        '8AE389DB3F66AA74013F66D1AB79607A',
        '8AE389DB3F66AA74013F673B9B423CB0',
        '8AE389DB3F6823FE013F6844E12E1BAD',
        '8AE389DB3F6823FE013F68571C684D82',
        '8AE389DB3F6823FE013F6869B8D17655',
        '8AE389DB3F6823FE013F692C827037B4',
        '8AE389DB3F6823FE013F6962CB26336A',
        '8AE389DB3F6823FE013F6975BDD00B6A',
        '8AE389DB3F6823FE013F69B93BAB767C',
        '8AE389DB4C0F2A6A014C6C2B7FD77278',
        '8AE389DB4C7AF3F5014C847F64096692',
        '8AE389DB4C7AF3F5014C8C01B184166C',
        '8AE389DB4C7AF3F5014C8F72C7BD7952',
        '8AE389DB4C7AF3F5014CBED5DF2A4507',
        '8AE389DB4CC923FB014CD7FE063041E1',
        '8AE389DB4CC923FB014CE35970F40C65',
        '8AE389DB4CC923FB014CE58CDEF46D42',
        '8AE389DB4CE6B108014CFFDF309B50EC',
        '8AE389DB4CE6B108014D0259F5E720B0',
        '8AE389DB4CE6B108014D22DCDFA42E58',
        '8AE389DB4D2AD70E014D3FC6BEAA2D3F',
        '8AE389DB4D2AD70E014D413EC02D60CD',
        '8AE389DB4D2AD70E014D4877499475A7',
        '8AE389DB4D2AD70E014D49AB945F0771',
        '8AE389DB4D2AD70E014D49B3409830CA',
        '8AE389DB4D2AD70E014D4ACBAAC03C9E',
        '8AE389DB4D2AD70E014D4DEB266D5D4B',
        '8AE389DB4D2AD70E014D52ABCF623C0E',
        '8AE389DB4D2AD70E014D68B82C3D6039',
        '8AE389DB4D2AD70E014D6DBCEB700DE5',
        '8AE389DB4D2AD70E014D6EAF1555040D',
        '8AE389DB4D2AD70E014D6EBB1A4A2B33',
        '8AE389DB4D2AD70E014D7133EA8C325C',
        '8AE389DB4D2AD70E014D717FB7D92E4E',
        '8AE389DB4D2AD70E014D72DCD9EF26E6',
        '8AE389DB4D2AD70E014D765D40C75489',
        '8AE389DB4D2AD70E014D7D84E0EB01E6',
        '8AE389DB4D2AD70E014D8BE948602AC2',
        '8AE389DB4D2AD70E014D8D929B2D6258',
        '8AE389DB4D2AD70E014D9080FD4257A5',
        '8AE389DB4D2AD70E014D90A3A763189A',
        '8AE389DB4D2AD70E014D90D9FADF6635',
        '8AE389DB4D2AD70E014D91A5F0B0147D',
        '8AE389DB4D2AD70E014D9232C4912109',
        '8AE389DB4D2AD70E014D9538110756B4',
        '8AE389DB4D2AD70E014D9586A7D8669A',
        '8AE389DB4D971C95014D9C3449D24659',
        '8AE389DB4D971C95014D9FD6B64B1FA6',
        '8AE389DB4D971C95014DA12480856207',
        '8AE389DB4D971C95014DA55A9FEE1B52',
        '8AE389DB4D971C95014DA615054259C4',
        '8AE389DB4D971C95014DBBA8AA1F7D21',
        '8AE389DB4D971C95014DBC74FB4F5CDD',
        '8AE389DB4DC44513014DD3546A540028',
        '8AE389DB4DC44513014DD36D90A245B7',
        '8AE389DB4DC44513014DDA5A284D3E05',
        '8AE389DB4DC44513014DDD77701D6594',
        '8AE389DB4DC44513014DDEE1008D3A72',
        '8AE389DB4DC44513014DE01A25607812',
        '8AE389DB4DC44513014DE41434C8326D',
        '8AE389DB4DC44513014DE8A064CB088E',
        '8AE389DB4DE97DC9014DEE1B910243E8',
        '8AE389DB4DE97DC9014DF3AD0FFC2773',
        '8AE389DB4DE97DC9014DF7DE2E4C4871',
        '2C908A915BEDB4C3015C5555ADDB3743',
    ];

    protected $arr_ts_to_import = [
    ];

    /**
     * Create a new command instance.
     *
     * @return void
     */
    public function __construct()
    {
        parent::__construct();
    }

    /**
     * Execute the console command.
     *
     * @return mixed
     */
    public function handle()
    {
        ini_set('memory_limit', '-1');

        // Busca as tecnologias sociais no banco antigo para importar
        $socialTecnologiesImport = DB::connection('sqlsrvlum')
            ->table('BTS_TECNOLOGIA_SOCIAL AS TS')
            ->join('BTS_INSTITUICAO AS INS', 'INS.COD_INSTITUICAO', '=', 'TS.COD_INSTITUICAO')
                ->leftJoin('BTS_MUNICIPIO AS IMUN', 'IMUN.COD_MUNICIPIO', '=', 'INS.COD_MUNICIPIO')
                ->leftJoin('BTS_UNIDADE_FEDERATIVA AS IUF', 'IUF.COD_UNIDADE_FEDERATIVA', '=', 'INS.COD_UF')
            ->join('BTS_VIGENCIA_PREMIO AS VP', 'VP.COD_VIGENCIA_PREMIO', '=', 'TS.COD_VIGENCIA_PREMIO')
            ->leftJoin('BTS_TEMA AS TP', 'TP.COD_TEMA', '=', 'TS.COD_TEMA_PRINCIPAL')
            ->leftJoin('BTS_TEMA AS TSEC', 'TSEC.COD_TEMA', '=', 'TS.COD_TEMA_SECUNDARIO')
            ->leftJoin('lum_File AS LUMF', 'LUMF.fileId', '=', 'TS.IMAGEM_PRINCIPAL')
            ->leftJoin('lum_ContentVersion AS LCV', 'LCV.itemId', '=', 'TS.COD_TECNOLOGIA_SOCIAL')
                ->leftJoin('lum_ContentLocale AS LCL', 'LCL.activeVersionId', '=', 'LCV.id')
                    ->leftJoin('lum_WorkflowMetaData AS LWMD', 'LWMD.contentLocaleId', '=', 'LCL.id')
            ->select(
                'TS.COD_TECNOLOGIA_SOCIAL AS ts_codigo',
                'TS.TITULO AS ts_name',
                'TS.SINOPSE AS ts_sinopse',
                'TS.OBJETIVO_GERAL AS ts_objetivo',
                'TS.PROBLEMA_SOLUCIONADO AS ts_problema_solucionado',
                DB::raw('ISNULL(DESCRICAO_TECNOLOGIA , SOLUCAO_ADOTADA) AS ts_descricao'),
                'TS.RECURSOS_MATERIAIS AS ts_recursos',
                'TS.RESULTADO_ALCANCADO AS ts_resultado_alcancado',
                'TS.COD_TEMA_PRINCIPAL AS ts_codtemap',
                'TS.COD_TEMA_SECUNDARIO AS ts_codtemas',
                'VP.ANO_EDICAO AS ts_vigenciapremio',
                'TS.COD_INSTITUICAO AS codigo_instituicao',
                DB::raw('CASE WHEN LWMD.stateId = \'certificada\' THEN \'c\' WHEN LWMD.stateId = \'finalista\' THEN \'f\' WHEN LWMD.stateId = \'vencedora\' THEN \'w\' ELSE \'\' END AS ts_premio_resultado'),
                'INS.RAZAO_SOCIAL AS instituicao_razaosocial',
                'INS.CNPJ AS instituicao_cnpj',
                'INS.EMAIL_AREA AS intituicao_email',
                DB::raw('CONCAT(\'(\', INS.DDD_AREA, \') \', INS.TELEFONE_AREA) AS instituicao_telefone'),
                'INS.ENDERECO AS instituicao_endereco',
                'INS.BAIRRO AS instituicao_bairro',
                'IMUN.NOME AS instituicao_city',
                'IUF.SIGLA AS instituticao_state',
                'INS.AREA_RESPONSAVEL AS instituicao_responsavel',
                'TP.DESCRICAO_PT AS tema_principal',
                'TSEC.DESCRICAO_PT AS tema_secundario',
                'TS.IMAGEM_PRINCIPAL AS ts_codimagem',
                'LUMF.fullPath AS ts_imagemprincipal'
            )
            ->whereIn('TS.COD_TECNOLOGIA_SOCIAL',$this->arr_ts_to_import)
            ->orderBy('TS.COD_TECNOLOGIA_SOCIAL')
            ->get();


        //dd($socialTecnologiesImport);

        // Define as quebras de linha para remover dos campos que so do tipo textarea
        $breaks = array("<br />","<br>","<br/>");

        // Percorre os itens para adicionar no banco de dados
        foreach ($socialTecnologiesImport as $socialtecnology_item) {

            print "Importando Instituio ".$socialtecnology_item->codigo_instituicao." - ".$socialtecnology_item->instituicao_razaosocial."\n";
            /*========== INSTITUIO ==========*/

            // Verifica se j existe instituio importada para atualizar
            $institution_obj = Institution::where('cnpj', preg_replace( '/[^0-9]/', '', $socialtecnology_item->instituicao_cnpj))->first();

            // Cria array com as informaes da instituio
            $institution_data = [
                'institution_name' => $socialtecnology_item->instituicao_razaosocial,
                'cnpj' => preg_replace( '/[^0-9]/', '', $socialtecnology_item->instituicao_cnpj),
                'email' => $socialtecnology_item->intituicao_email,
                'phone' => $socialtecnology_item->instituicao_telefone,
                'address' => $socialtecnology_item->instituicao_endereco,
                'neighborhood' => $socialtecnology_item->instituicao_bairro,
                'city' => $socialtecnology_item->instituicao_city,
                'state' => $socialtecnology_item->instituticao_state,
                /*'responsible_name' => $socialtecnology_item->instituicao_responsavel,
                'responsible_phone' => $socialtecnology_item->instituicao_telefone,
                'responsible_email' => $socialtecnology_item->intituicao_email,*/
                'cod_lumis' => $socialtecnology_item->codigo_instituicao,
            ];

            // Gera url unica
                $institution_data["seo_url"] = \App\Helpers::slug($socialtecnology_item->instituicao_razaosocial);
                $institution_data["seo_url"] = \App\Helpers::generate_unique_friendly_url($institution_data, new Institution);

            if (!empty($institution_obj)) {
                //$institution_obj->update($institution_data);
                print "INSTITUIO J EXISTE ".$institution_obj->id."\n";
            } else {
                $institution_obj = Institution::create($institution_data);
            }
            /*=====  End of INSTITUIO  ======*/

            print "Importando TS ".$socialtecnology_item->ts_codigo." - ".$socialtecnology_item->ts_name."\n";
            /*========== TECNOLOGIA SOCIAL ==========*/

            // Verifica se a tecnologia j foi importada
            $socialtecnology_obj = SocialTecnology::where('cod_lumis', $socialtecnology_item->ts_codigo)->first();

            if (empty($socialtecnology_obj)) {

                // Trata o Resumo para buscar as informaes da ODS
                $ts_sinopse = trim($socialtecnology_item->ts_sinopse);
                $aux_ods_string = substr($ts_sinopse, strrpos($ts_sinopse, '*', -2));

                // Busca as informaes da ODS
                $ods_info = str_replace("*", "", $aux_ods_string);
                $ods_info = str_replace("{", "", $ods_info);
                $ods_info = str_replace("}", "", $ods_info);
                $ods_info = explode(",", $ods_info);

                // Remove ods from summary
                $ts_sinopse = str_replace($aux_ods_string, "", $ts_sinopse);

                // Cria array com as informaes da tecnologia social
                $socialtecnology_data = [
                    'institution_id' => $institution_obj->id,
                    'socialtecnology_name' => $socialtecnology_item->ts_name,
                    'summary' => str_ireplace($breaks, "", $ts_sinopse),
                    'objective' => str_ireplace($breaks, "", $socialtecnology_item->ts_objetivo),
                    'problem_solution' => str_ireplace($breaks, "", $socialtecnology_item->ts_problema_solucionado),
                    'description' => str_ireplace($breaks, "", $socialtecnology_item->ts_descricao),
                    'necessary_resources' => str_ireplace($breaks, "", $socialtecnology_item->ts_recursos),
                    'result_archieved' => str_ireplace($breaks, "", $socialtecnology_item->ts_resultado_alcancado),
                    'award_status' => $socialtecnology_item->ts_premio_resultado,
                    'award_year' => $socialtecnology_item->ts_vigenciapremio,
                    'cod_lumis' => $socialtecnology_item->ts_codigo,
                ];

                // Gera url unica
                $socialtecnology_data["seo_url"] = \App\Helpers::slug($socialtecnology_item->ts_name);
                $socialtecnology_data["seo_url"] = \App\Helpers::generate_unique_friendly_url($socialtecnology_data, new SocialTecnology);

                // Busca a imagem principal da tecnologia social
                if (!empty($socialtecnology_item->ts_imagemprincipal)) {

                    // Pega a extenso da imagem
                    $extension = strtolower(substr($socialtecnology_item->ts_imagemprincipal, strrpos($socialtecnology_item->ts_imagemprincipal, '.') + 1));

                    if ($extension == 'jpg' || $extension == 'jpeg' || $extension == 'png') {

                        // Monta a url da imagem a ser importada
                        $image_url = preg_replace("/ /", "%20", $this->lumis_file_url.$socialtecnology_item->ts_imagemprincipal);

                        // Cria o objeto com o contedo da imagem
                        $image_content = @file_get_contents($image_url);

                        if (!empty($image_content)) {
                            // Monta um nome nico para a imagem
                            $unique_image_name = uniqid(date('HisYmd'));

                            // Define finalmente o nome
                            $image_name = "{$unique_image_name}.{$extension}";

                            // Salva a imagem no disco
                            Storage::put("socialtecnologies/".$image_name, $image_content);

                            // Verifica se est atualizando a imagem, para remover a anterior
                            if (!empty($socialtecnology_obj) && !empty($socialtecnology_obj->image)) {
                                Storage::delete("socialtecnologies/".$socialtecnology_obj->image);
                            }

                            // Adiciona no array com as informaes da tecnologia social
                            $socialtecnology_data["image"] = $image_name;
                        } else {
                            print "ALERT ALERT - Erro na imagem principal!- {$image_url}\n";
                        }
                    }
                }

                // Salva a Tecnologia Social
                if (!empty($socialtecnology_obj)) {
                    $socialtecnology_obj->update($socialtecnology_data);
                } else {
                    $socialtecnology_obj = SocialTecnology::create($socialtecnology_data);
                }

                // Deleta os temas anteriores do banco de dados
                SocialTecnologyTheme::where('socialtecnology_id', $socialtecnology_obj->id)->delete();

                // Salva os Temas da Tecnologia Social
                if(!empty($socialtecnology_item->tema_principal)) {

                    $theme_obj = Theme::where('cod_lumis', $socialtecnology_item->ts_codtemap)->first();

                    // Se no existe, adiciona novo tema
                    if (empty($theme_obj)) {

                        $theme_data['name'] = $socialtecnology_item->tema_principal;
                        $theme_data['cod_lumis'] = $socialtecnology_item->ts_codtemap;
                        $theme_data['seo_url'] = \App\Helpers::slug($socialtecnology_item->tema_principal);
                        $theme_data['seo_url'] = \App\Helpers::generate_unique_friendly_url($theme_data, new Theme);

                        $theme_obj = Theme::create($theme_data);

                        unset($theme_data);
                    }

                    // Salva o tema principal no banco de dados
                    SocialTecnologyTheme::create([
                        'socialtecnology_id' => $socialtecnology_obj->id,
                        'theme_id' => $theme_obj->id
                    ]);
                }

                if(!empty($socialtecnology_item->tema_secundario)) {

                    $theme_obj = Theme::where('cod_lumis', $socialtecnology_item->ts_codtemas)->first();

                    // Se no existe, adiciona novo tema
                    if (empty($theme_obj)) {

                        $theme_data['name'] = $socialtecnology_item->tema_secundario;
                        $theme_data['cod_lumis'] = $socialtecnology_item->ts_codtemas;
                        $theme_data['seo_url'] = \App\Helpers::slug($socialtecnology_item->tema_secundario);
                        $theme_data['seo_url'] = \App\Helpers::generate_unique_friendly_url($theme_data, new Theme);

                        $theme_obj = Theme::create($theme_data);

                        unset($theme_data);
                    }

                    // Salva o tema secundario no banco de dados
                    SocialTecnologyTheme::create([
                        'socialtecnology_id' => $socialtecnology_obj->id,
                        'theme_id' => $theme_obj->id
                    ]);
                }

                // Deleta imagens antigas se existir
                $images_to_remove = SocialTecnologyImage::where('socialtecnology_id', $socialtecnology_obj->id)->get();
                foreach ($images_to_remove as $image_to_remove_item) {
                    Storage::delete('socialtecnologies/'.$socialtecnology_obj->id.'/images/'.$image_to_remove_item->image);
                    $image_to_remove_item->delete();
                }

                // Busca as imagens no banco do Lumens
                $imagesGallery = DB::connection('sqlsrvlum')
                    ->table('BTS_IMAGEM_TECNOLOGIA AS BITE')
                        ->join('lum_File AS LUMF', 'LUMF.fileId', '=', 'BITE.IMAGEM')
                    ->select('LUMF.fullPath AS image_path', 'BITE.LEGENDA AS image_caption')
                    ->where('BITE.COD_TECNOLOGIA_SOCIAL', $socialtecnology_item->ts_codigo)
                    ->get();

                foreach ($imagesGallery as $imagem_item) {

                    // Pega o nome da imagem
                    $image_name = substr($imagem_item->image_path, strrpos($imagem_item->image_path, '/') + 1);

                    // Remove acentos do nome do arquivo
                    $image_name = \App\Helpers::create_file_name_from_existing_name($image_name);

                    // Pega a extenso da imagem
                    $extension = substr($image_name, strrpos($image_name, '.') + 1);

                    if (strtolower($extension) == 'jpg' || strtolower($extension) == 'jpeg' || strtolower($extension) == 'png') {

                        // Monta a url da imagem a ser importada
                        $image_url = preg_replace("/ /", "%20", $this->lumis_file_url.$imagem_item->image_path);

                        // Cria o objeto com o contedo da imagem
                        $image_content = @file_get_contents($image_url);

                        if (!empty($image_content)) {
                            // Verifica se j existe arquivo com o nome
                            $aux_name = 0;
                            $ori_image_name = str_replace('.'.$extension, '', $image_name);
                            while (Storage::exists('socialtecnologies/'.$socialtecnology_obj->id.'/images/'.$image_name)) {
                                $aux_name++;
                                $image_name = $ori_image_name.'('.$aux_name.").".$extension;
                            }

                            // Salva a imagem no disco
                            Storage::put('socialtecnologies/'.$socialtecnology_obj->id.'/images/'.$image_name, $image_content);

                            // Salva a imagem no banco de dados
                            SocialTecnologyImage::create([
                                'socialtecnology_id' => $socialtecnology_obj->id,
                                'image' => $image_name
                            ]);
                        } else {
                            print "ALERT ALERT - Erro na imagem!- {$image_url}\n";
                        }
                    }

                    unset($image_name);
                }

                // Deleta os arquivos antes de adicionar
                $files_to_remove = SocialTecnologyFile::where('socialtecnology_id', $socialtecnology_obj->id)->get();
                foreach ($files_to_remove as $file_to_remove_item) {
                    Storage::delete('socialtecnologies/'.$socialtecnology_obj->id.'/files/'.$file_to_remove_item->file);
                    $file_to_remove_item->delete();
                }

                // Busca as imagens no banco do Lumens
                $filesTs = DB::connection('sqlsrvlum')
                    ->table('BTS_ANEXO_TECNOLOGIA AS BATE')
                        ->join('lum_File AS LUMF', 'LUMF.fileId', '=', 'BATE.ARQUIVO_ANEXO')
                    ->select('LUMF.fullPath AS file_path', 'BATE.LEGENDA AS file_caption')
                    ->where('BATE.COD_TECNOLOGIA_SOCIAL', $socialtecnology_item->ts_codigo)
                    ->get();

                foreach ($filesTs as $file_item) {

                    // Monta a url da imagem a ser importada
                    $file_url = preg_replace("/ /", "%20", $this->lumis_file_url.$file_item->file_path);

                    // Cria o objeto com o contedo da imagem
                    $file_content = @file_get_contents($file_url);

                    if (!empty($file_content)) {

                        // Pega o nome da imagem
                        $file_name = substr($file_item->file_path, strrpos($file_item->file_path, '/') + 1);

                        // Remove acentos do nome do arquivo
                        $file_name = \App\Helpers::create_file_name_from_existing_name($file_name);

                        // Pega a extenso da imagem
                        $extension = substr($file_name, strrpos($file_name, '.') + 1);

                        // Verifica se j existe arquivo com o nome
                        $aux_name = 0;
                        $ori_file_name = str_replace('.'.$extension, '', $file_name);
                        while (Storage::exists('socialtecnologies/'.$socialtecnology_obj->id.'/files/'.$file_name)) {
                            $aux_name++;
                            $file_name = $ori_file_name.'('.$aux_name.").".$extension;
                        }

                        // Salva a imagem no disco
                        Storage::put('socialtecnologies/'.$socialtecnology_obj->id.'/files/'.$file_name, $file_content);

                        // Salva a imagem no banco de dados
                        SocialTecnologyFile::create([
                            'socialtecnology_id' => $socialtecnology_obj->id,
                            'file' => $file_name,
                            'file_caption' => $file_item->file_caption
                        ]);
                    } else {
                        print "ALERT ALERT - Erro no arquivo - {$file_url}\n";
                    }

                    unset($file_content);
                }

                // Busca os locais de implantao no banco do Lumens
                $deployPlacesTs = DB::connection('sqlsrvlum')
                    ->table('BTS_IMPLEMENTACAO_TECNOLOGIA AS LOCIMP')
                        ->join('BTS_MUNICIPIO AS MUN', 'MUN.COD_MUNICIPIO', '=', 'LOCIMP.COD_MUNICIPIO')
                        ->join('BTS_UNIDADE_FEDERATIVA AS UF', 'UF.COD_UNIDADE_FEDERATIVA', '=', 'LOCIMP.COD_UNIDADE_FEDERATIVA')
                    ->select(
                        'LOCIMP.CEP AS cep',
                        'LOCIMP.BAIRRO AS bairro',
                        'UF.SIGLA AS uf',
                        'MUN.NOME AS cidade'
                    )
                    ->where('LOCIMP.COD_TECNOLOGIA_SOCIAL', $socialtecnology_item->ts_codigo)
                    ->groupBy('LOCIMP.CEP','LOCIMP.BAIRRO','UF.SIGLA','MUN.NOME')
                    ->get();

                // Deleta valores anteriores
                $deployplace_obj = SocialTecnologyDeploymentPlace::where('socialtecnology_id', $socialtecnology_obj->id)->delete();

                foreach ($deployPlacesTs as $place_item) {

                    SocialTecnologyDeploymentPlace::create([
                        'neighborhood' => $place_item->bairro,
                        'city' => $place_item->cidade,
                        'state' => $place_item->uf,
                        'zipcode' => $place_item->cep,
                        'socialtecnology_id' => $socialtecnology_obj->id
                    ]);
                }

                // Deleta valores anteriores
                SocialTecnologyKeyword::where('socialtecnology_id', $socialtecnology_obj->id)->delete();

                // Busca as palavras chaves no antigo banco do limens
                $keywords = DB::connection('sqlsrvlum')
                    ->table('BTS_SUBTEMA_PRINCIPAL_TECNOLOGIA AS BTS_SUB_TEMA')
                    ->select('COD_SUB_TEMA AS cod_lumis')
                    ->where('BTS_SUB_TEMA.COD_TECNOLOGIA_SOCIAL', $socialtecnology_item->ts_codigo)
                    ->get();

                foreach ($keywords as $keyword_item) {

                    $keyword_obj = Keyword::where('cod_lumis', $keyword_item->cod_lumis)->first();

                    if (!empty($keyword_obj) && !empty($keyword_obj->id)) {

                        SocialTecnologyKeyword::create([
                            'keyword_id' => $keyword_obj->id,
                            'socialtecnology_id' => $socialtecnology_obj->id
                        ]);
                    }
                }

                $keywords = DB::connection('sqlsrvlum')
                    ->table('BTS_SUBTEMA_SECUNDARIO_TECNOLOGIA AS BTS_SUB_TEMA')
                    ->select('COD_SUB_TEMA AS cod_lumis')
                    ->where('BTS_SUB_TEMA.COD_TECNOLOGIA_SOCIAL', $socialtecnology_item->ts_codigo)
                    ->get();

                foreach ($keywords as $keyword_item) {

                    $keyword_obj = Keyword::where('cod_lumis', $keyword_item->cod_lumis)->first();

                    if (!empty($keyword_obj) && !empty($keyword_obj->id)) {

                        SocialTecnologyKeyword::create([
                            'keyword_id' => $keyword_obj->id,
                            'socialtecnology_id' => $socialtecnology_obj->id
                        ]);
                    }
                }

                // Deleta os ODS anteriores do banco de dados
                SocialTecnologyOds::where('socialtecnology_id', $socialtecnology_obj->id)->delete();

                // ODS
                foreach ($ods_info as $ods_item) {

                    // Retira da string 'ods' para deixar somente o nmero do ODS
                    $ods_item = str_replace('ods', '', $ods_item);

                    // Verifica se existe o ODS no banco de dados
                    if (is_numeric($ods_item)) {

                        $ods_obj = Ods::where('number', $ods_item)->first();

                        if (!empty($ods_obj)) {

                            // Cria o vnculo com a ODS
                            SocialTecnologyOds::create([
                                'socialtecnology_id' => $socialtecnology_obj->id,
                                'ods_id' => $ods_obj->id
                            ]);
                        }
                    }
                }
                /*=====  End of TECNOLOGIA SOCIAL  ======*/
            } else {
                print "TECNOLOGIA SOCIAL J EXISTE ".$socialtecnology_obj->id."\n";
            }

            print "Tecnologia importada com sucesso!\n\n";
        }
    }
}
